<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.123.0">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Security Assurance :: AWS System Manager</title>

    
    <link href="/css/nucleus.css?1714210786" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1714210786" rel="stylesheet">
    <link href="/css/hybrid.css?1714210786" rel="stylesheet">
    <link href="/css/featherlight.min.css?1714210786" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1714210786" rel="stylesheet">
    <link href="/css/auto-complete.css?1714210786" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1714210786" rel="stylesheet">
    <link href="/css/theme.css?1714210786" rel="stylesheet">
    <link href="/css/hugo-theme.css?1714210786" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1714210786" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1714210786"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/2-scenario/2.3-security_assurance/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/FCJ-Workshop-2">
  <svg
    id="Layer_1"
    data-name="Layer 1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 60 30"
    width="30%"
  >
    <defs>
      <style>
        .cls-1 {
          fill: #fff;
        }
        .cls-2 {
          fill: #f90;
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>AWS-Logo_White-Color</title>
    <path
      class="cls-1"
      d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"
    ></path>
    <path
      class="cls-2"
      d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"
    ></path>
    <path
      class="cls-2"
      d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"
    ></path>
  </svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1714210786"></script>
<script type="text/javascript" src="/js/auto-complete.js?1714210786"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1714210786"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/1-introduce/" title="Introduction" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/">
           <b> 1. </b> Introduction
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.1-architecture/" title="Architecture" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.1-architecture/">
           <b> 1.1 </b> Architecture
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.2-naae/" title="Not Attending AWS hosted event" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.2-naae/">
           <b> 1.2 </b> Not Attending AWS hosted event
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/1-introduce/1.3-aae/" title="Attending AWS hosted event" class="dd-item 
        
        
        
        ">
      <a href="/1-introduce/1.3-aae/">
           <b> 1.3 </b> Attending AWS hosted event
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/2-scenario/" title="Scenario " class="dd-item 
        parent
        
        
        ">
      <a href="/2-scenario/">
           <b> 2. </b> Scenario 
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/2-scenario/2.1-infra_protect/" title="Infrastructure Protection" class="dd-item 
        
        
        
        ">
      <a href="/2-scenario/2.1-infra_protect/">
           <b> 2.1 </b> Infrastructure Protection
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-scenario/2.2-data_protect/" title="Data Protection" class="dd-item 
        
        
        
        ">
      <a href="/2-scenario/2.2-data_protect/">
           <b> 2.2 </b> Data Protection
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-scenario/2.3-security_assurance/" title="Security Assurance" class="dd-item 
        
        active
        
        ">
      <a href="/2-scenario/2.3-security_assurance/">
           <b> 2.3 </b> Security Assurance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/2-scenario/2.4-iam/" title="Identity and Access Management" class="dd-item 
        
        
        
        ">
      <a href="/2-scenario/2.4-iam/">
           <b> 2.4 </b> Identity and Access Management
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/3-support/" title="Support" class="dd-item 
        
        
        
        ">
      <a href="/3-support/">
           <b> 3. </b> Support
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/3-support/3.1-troubleshoot/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/3-support/3.1-troubleshoot/">
           <b> 3.1 </b> Troubleshooting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-support/3.2-cleanup/" title="Clean Up" class="dd-item 
        
        
        
        ">
      <a href="/3-support/3.2-cleanup/">
           <b> 3.2 </b> Clean Up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/3-support/3.3-resources/" title="Resources" class="dd-item 
        
        
        
        ">
      <a href="/3-support/3.3-resources/">
           <b> 3.3 </b> Resources
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/2-scenario/2.3-security_assurance/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/2-scenario/2.3-security_assurance/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>04-03-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/hayden-trinh/"  style="color:orange">Trịnh Duy Hưng</a> <br>
               
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'>AWS Control Design</a> > <a href='/2-scenario/'>Scenario </a> > Security Assurance
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#security-assurance">Security Assurance</a>
      <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#exercise">Exercise</a></li>
        <li><a href="#instructions">Instructions</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Security Assurance
            </h1>
          

        



	<h2 id="security-assurance">Security Assurance</h2>
<h3 id="introduction">Introduction</h3>
<p><strong>Time to complete</strong>: 25 minutes</p>
<p><strong>Learning Objectives</strong>:</p>
<ul>
<li>Setup Logging at OS Level using Amazon CloudWatch.</li>
<li>Setup notifications concerning relevant OS events.</li>
</ul>
<h3 id="exercise">Exercise</h3>
<h4 id="requirements-scenario">Requirements Scenario</h4>
<p>Voyager Security team has provided the technical requirements to ensure that Operating Systems (OS) logs are captured, and alerts are sent to monitoring and response teams for critical events. For example, root access shall be considered a critical event and should trigger an alert to the monitoring team via email. You as a Cloud Architect will need to understand the current architecture and determine, based on the AWS CloudWatch and AWS Config Manage Rules or conformance packages which options are available to configure a logging solution that meets customer requirements.</p>
<p><strong>NIST Requirement</strong></p>
<table>
<thead>
<tr>
<th>Control ID</th>
<th style="text-align:center">Control Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>AC-6(9)</td>
<td style="text-align:center">Log the execution of privileged functions.</td>
</tr>
<tr>
<td>AU-2</td>
<td style="text-align:center">Event Logging</td>
</tr>
<tr>
<td>AU-6(1)</td>
<td style="text-align:center">Audit Record Review, Analysis, and Reporting</td>
</tr>
</tbody>
</table>
<p><strong>Customer Requirement</strong></p>
<table>
<thead>
<tr>
<th>Control ID</th>
<th style="text-align:center">Control Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Voyager-ctrl-mon-01</td>
<td style="text-align:center">Systems must be appropriately monitored. Logs needs to be captured at the OS level and alerts will need to be triggered and sent to SOC team when root is used.</td>
</tr>
</tbody>
</table>
<p><strong>AWS resources review and conclusions</strong></p>
<p>By reviewing the following available resources, you will come to conclude what needs to be done to meet Voyager’s control requirements. See below the conclusions.</p>
<table>
<thead>
<tr>
<th>Resource type</th>
<th>Resource name</th>
<th>Conclusion</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS service user guide</td>
<td><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html">AWS CloudWatch / What is Amazon CloudWatch Logs? </a></td>
<td>CloudWatch Logs enables you to centralize the logs from all of your systems, applications, and AWS services that you use, in a single, highly scalable service.</td>
</tr>
<tr>
<td>AWS service user guide</td>
<td><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html">AWS CloudWatch agent guide / Collecting metrics and logs from Amazon EC2 instances and on-premises servers with the CloudWatch agent</a></td>
<td>The cloud native approach to record OS logs is by installing AWS CloudWatch agent in each instance.</td>
</tr>
<tr>
<td>AWS service user guide</td>
<td><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch-and-eventbridge.html">CloudWatch Alarm events and EventBridge</a></td>
<td>CloudWatch sends events to Amazon EventBridge whenever a CloudWatch alarm is created, updated, deleted, or changes alarm state. You can use EventBridge and these events to write rules that take actions, such as notifying you, when an alarm changes state.</td>
</tr>
<tr>
<td>AWS Conformance pack (NIST)</td>
<td><a href="https://docs.aws.amazon.com/config/latest/developerguide/operational-best-practices-for-nist-800-53_rev_5.html">AWS operational best practices for NIST 800 53 rev5</a></td>
<td>(Search for AC-6(9), AU-2, AU-6(1)) Use Amazon CloudWatch to centrally collect and manage log event activity. Inclusion of AWS CloudTrail data provides details of API call activity within your AWS account.</td>
</tr>
</tbody>
</table>
<h3 id="instructions">Instructions</h3>
<h4 id="cloudwatch-logs-introduction">CloudWatch Logs introduction</h4>
<p>Logs are an essential tool to gain visibility into what is happening in your instances. Besides Metrics, CloudWatch allows you to collect and search logs.</p>
<p>Before we dive into CloudWatch Logs, we need to understand the concepts of log stream and log groups .</p>
<p>A log stream is a sequence of log events coming from the same source (e.g., EC2 instance).</p>
<p>A log group is a group of log streams that shares the same retention, monitoring and access control settings. Used for logical grouping of the log streams. If EC2 instances are running the same application, we can group their log streams into one log group.</p>
<h4 id="cloudwatch-logs-analysis">CloudWatch Logs analysis</h4>
<p>Our EC2 instances generates many log files. The Linux operating system has its own log, and our application running on it can also generate their own logs.</p>
<p>These logs can be collected by the CloudWatch agent , an agent application that (optionally) runs in your EC2 instances.</p>
<p>CloudWatch agent is pre-installed and configured to collect the logs in all the EC2 instances for this part of the workshop.</p>
<ol>
<li>To see the logs, open the <a href="https://console.aws.amazon.com/cloudwatch/">CloudWatch console</a></li>
<li>In the left navigation pane, under Logs, choose Log groups.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/111.png"></p>
<ol start="3">
<li>There is already one log group named /var/log/secure. Click on it and you should see the log group details and a few log streams under for each instance.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/112.png"></p>
<ol start="4">
<li>Click Actions/Edit retention setting. Select the desired expiration time. (for this exercise choose 12 month). Click Save.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/113.png"></p>
<ol start="5">
<li>Click Actions from the top-right corner and click create metric filter.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/114.png"></p>
<ol start="6">
<li>Define a pattern to search for. You can input <code>session opened for user root</code> and it will look for it in the logs. Click Next.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/115.png"></p>
<ol start="7">
<li>Complete the metric filter details as shown in the image. Click Next</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/116.png"></p>
<ol start="8">
<li>Review details and click on Create metric filter.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/117.png"></p>
<ol start="9">
<li>Click on Audit under Metric.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/118.png"></p>
<ol start="10">
<li>An empty graph will appear. CloudWatch will only generate metrics from events generated after the metric was generated.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/119.png"></p>
<ol start="11">
<li>Navigate to the <a href="https://us-east-1.console.aws.amazon.com/ec2/v2/home?region=us-east-1#Home:">EC2 console</a>, click on instances, select one of the instances and click Connect(top right) .</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/120.png"></p>
<ol start="12">
<li>Under Session Manager, click Connect.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/121.png"></p>
<ol start="13">
<li>Once the terminal connection opens. you can run sudo su to escalate to root user. This way you will generate additional events in the log. Click Terminate twice.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/122.png"></p>
<ol start="14">
<li>Go back to <a href="https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1">CloudWatch console</a> on the left under Metrics, click All Metrics, and under Custom namespaces, click Audit and then Metrics with no dimensions.</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/123.png"></p>
<ol start="15">
<li>Check session opened for user root checkbox. A dot with the session we generated will appear in the graph. (It can take up to 5 mins for the information to get displayed)</li>
</ol>
<p><img alt="FCJ_ws2" src="/images/2.scenario/124.png"></p>
<ol start="16">
<li>
<p>(Optional) To learn more about filter patterns look at the <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html">CloudWatch documentation</a></p>
</li>
<li>
<p>(Optional) Once you configure a metric you can configure <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html">CloudWatch alarms</a> to receive a notification every time someone logins with root user.</p>
</li>
</ol>
<p><strong>You have completed exercise three. Please proceed to the next exercise.</strong></p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/2-scenario/2.2-data_protect/" title="Data Protection"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/2-scenario/2.4-iam/" title="Identity and Access Management" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1714210786"></script>
    <script src="/js/perfect-scrollbar.min.js?1714210786"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1714210786"></script>
    <script src="/js/jquery.sticky.js?1714210786"></script>
    <script src="/js/featherlight.min.js?1714210786"></script>
    <script src="/js/highlight.pack.js?1714210786"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1714210786"></script>
    <script src="/js/learn.js?1714210786"></script>
    <script src="/js/hugo-learn.js?1714210786"></script>

    <link href="/mermaid/mermaid.css?1714210786" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1714210786"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
