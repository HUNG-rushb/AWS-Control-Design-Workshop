<!DOCTYPE html>
<html lang="vi" class="js csstransforms3d">
  <head><script src="/AWS-Control-Design-Workshop/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=AWS-Control-Design-Workshop/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.123.0">
    <meta name="description" content="">
<meta name="author" content="duy.hung.trinh.dev@gmail.com">

    <link rel="icon" href="/AWS-Control-Design-Workshop/images/favicon.png" type="image/png">

    <title>Đảm bảo an ninh :: AWS System Manager</title>

    
    <link href="/AWS-Control-Design-Workshop/css/nucleus.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/fontawesome-all.min.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/hybrid.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/featherlight.min.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/perfect-scrollbar.min.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/auto-complete.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/atom-one-dark-reasonable.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/theme.css?1714236335" rel="stylesheet">
    <link href="/AWS-Control-Design-Workshop/css/hugo-theme.css?1714236335" rel="stylesheet">
    
    <link href="/AWS-Control-Design-Workshop/css/theme-workshop.css?1714236335" rel="stylesheet">
    
    

    <script src="/AWS-Control-Design-Workshop/js/jquery-3.3.1.min.js?1714236335"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/AWS-Control-Design-Workshop/vi/2-scenario/2.3-security_assurance/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/AWS-Control-Design-Workshop">
  <svg
    id="Layer_1"
    data-name="Layer 1"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 60 30"
    width="30%"
  >
    <defs>
      <style>
        .cls-1 {
          fill: #fff;
        }
        .cls-2 {
          fill: #f90;
          fill-rule: evenodd;
        }
      </style>
    </defs>
    <title>AWS-Logo_White-Color</title>
    <path
      class="cls-1"
      d="M14.09,10.85a4.7,4.7,0,0,0,.19,1.48,7.73,7.73,0,0,0,.54,1.19.77.77,0,0,1,.12.38.64.64,0,0,1-.32.49l-1,.7a.83.83,0,0,1-.44.15.69.69,0,0,1-.49-.23,3.8,3.8,0,0,1-.6-.77q-.25-.42-.51-1a6.14,6.14,0,0,1-4.89,2.3,4.54,4.54,0,0,1-3.32-1.19,4.27,4.27,0,0,1-1.22-3.2A4.28,4.28,0,0,1,3.61,7.75,6.06,6.06,0,0,1,7.69,6.46a12.47,12.47,0,0,1,1.76.13q.92.13,1.91.36V5.73a3.65,3.65,0,0,0-.79-2.66A3.81,3.81,0,0,0,7.86,2.3a7.71,7.71,0,0,0-1.79.22,12.78,12.78,0,0,0-1.79.57,4.55,4.55,0,0,1-.58.22l-.26,0q-.35,0-.35-.52V2a1.09,1.09,0,0,1,.12-.58,1.2,1.2,0,0,1,.47-.35A10.88,10.88,0,0,1,5.77.32,10.19,10.19,0,0,1,8.36,0a6,6,0,0,1,4.35,1.35,5.49,5.49,0,0,1,1.38,4.09ZM7.34,13.38a5.36,5.36,0,0,0,1.72-.31A3.63,3.63,0,0,0,10.63,12,2.62,2.62,0,0,0,11.19,11a5.63,5.63,0,0,0,.16-1.44v-.7a14.35,14.35,0,0,0-1.53-.28,12.37,12.37,0,0,0-1.56-.1,3.84,3.84,0,0,0-2.47.67A2.34,2.34,0,0,0,5,11a2.35,2.35,0,0,0,.61,1.76A2.4,2.4,0,0,0,7.34,13.38Zm13.35,1.8a1,1,0,0,1-.64-.16,1.3,1.3,0,0,1-.35-.65L15.81,1.51a3,3,0,0,1-.15-.67.36.36,0,0,1,.41-.41H17.7a1,1,0,0,1,.65.16,1.4,1.4,0,0,1,.33.65l2.79,11,2.59-11A1.17,1.17,0,0,1,24.39.6a1.1,1.1,0,0,1,.67-.16H26.4a1.1,1.1,0,0,1,.67.16,1.17,1.17,0,0,1,.32.65L30,12.39,32.88,1.25A1.39,1.39,0,0,1,33.22.6a1,1,0,0,1,.65-.16h1.54a.36.36,0,0,1,.41.41,1.36,1.36,0,0,1,0,.26,3.64,3.64,0,0,1-.12.41l-4,12.86a1.3,1.3,0,0,1-.35.65,1,1,0,0,1-.64.16H29.25a1,1,0,0,1-.67-.17,1.26,1.26,0,0,1-.32-.67L25.67,3.64,23.11,14.34a1.26,1.26,0,0,1-.32.67,1,1,0,0,1-.67.17Zm21.36.44a11.28,11.28,0,0,1-2.56-.29,7.44,7.44,0,0,1-1.92-.67,1,1,0,0,1-.61-.93v-.84q0-.52.38-.52a.9.9,0,0,1,.31.06l.42.17a8.77,8.77,0,0,0,1.83.58,9.78,9.78,0,0,0,2,.2,4.48,4.48,0,0,0,2.43-.55,1.76,1.76,0,0,0,.86-1.57,1.61,1.61,0,0,0-.45-1.16A4.29,4.29,0,0,0,43,9.22l-2.41-.76A5.15,5.15,0,0,1,38,6.78a3.94,3.94,0,0,1-.83-2.41,3.7,3.7,0,0,1,.45-1.85,4.47,4.47,0,0,1,1.19-1.37A5.27,5.27,0,0,1,40.51.29,7.4,7.4,0,0,1,42.6,0a8.87,8.87,0,0,1,1.12.07q.57.07,1.08.19t.95.26a4.27,4.27,0,0,1,.7.29,1.59,1.59,0,0,1,.49.41.94.94,0,0,1,.15.55v.79q0,.52-.38.52a1.76,1.76,0,0,1-.64-.2,7.74,7.74,0,0,0-3.2-.64,4.37,4.37,0,0,0-2.21.47,1.6,1.6,0,0,0-.79,1.48,1.58,1.58,0,0,0,.49,1.18,4.94,4.94,0,0,0,1.83.92L44.55,7a5.08,5.08,0,0,1,2.57,1.6A3.76,3.76,0,0,1,47.9,11a4.21,4.21,0,0,1-.44,1.93,4.4,4.4,0,0,1-1.21,1.47,5.43,5.43,0,0,1-1.85.93A8.25,8.25,0,0,1,42.05,15.62Z"
    ></path>
    <path
      class="cls-2"
      d="M45.19,23.81C39.72,27.85,31.78,30,25,30A36.64,36.64,0,0,1,.22,20.57c-.51-.46-.06-1.09.56-.74A49.78,49.78,0,0,0,25.53,26.4,49.23,49.23,0,0,0,44.4,22.53C45.32,22.14,46.1,23.14,45.19,23.81Z"
    ></path>
    <path
      class="cls-2"
      d="M47.47,21.21c-.7-.9-4.63-.42-6.39-.21-.53.06-.62-.4-.14-.74,3.13-2.2,8.27-1.57,8.86-.83s-.16,5.89-3.09,8.35c-.45.38-.88.18-.68-.32C46.69,25.8,48.17,22.11,47.47,21.21Z"
    ></path>
  </svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/AWS-Control-Design-Workshop/js/lunr.min.js?1714236335"></script>
<script type="text/javascript" src="/AWS-Control-Design-Workshop/js/auto-complete.js?1714236335"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost:1313\/AWS-Control-Design-Workshop\/\/vi";
    
</script>
<script type="text/javascript" src="/AWS-Control-Design-Workshop/js/search.js?1714236335"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/1-introduce/" title="Giới thiệu" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/1-introduce/">
           <b> 1. </b> Giới thiệu
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/1-introduce/1.1-architecture/" title="Kiến trúc" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/1-introduce/1.1-architecture/">
           <b> 1.1 </b> Kiến trúc
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/1-introduce/1.2-naae/" title="Không tham dự event của AWS" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/1-introduce/1.2-naae/">
           <b> 1.2 </b> Không tham dự event của AWS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/1-introduce/1.3-aae/" title="Có tham dự event của AWS" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/1-introduce/1.3-aae/">
           <b> 1.3 </b> Có tham dự event của AWS
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/2-scenario/" title="Tình huống" class="dd-item 
        parent
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/2-scenario/">
           <b> 2. </b> Tình huống
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/2-scenario/2.1-infra_protect/" title="Bảo vệ hạ tầng" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/2-scenario/2.1-infra_protect/">
           <b> 2.1 </b> Bảo vệ hạ tầng
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/2-scenario/2.2-data_protect/" title="Bảo vệ data" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/2-scenario/2.2-data_protect/">
           <b> 2.2 </b> Bảo vệ data
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/2-scenario/2.3-security_assurance/" title="Đảm bảo an ninh" class="dd-item 
        
        active
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/2-scenario/2.3-security_assurance/">
           <b> 2.3 </b> Đảm bảo an ninh
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/2-scenario/2.4-iam/" title="Quản lý danh tính và quyền truy cập" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/2-scenario/2.4-iam/">
           <b> 2.4 </b> Quản lý danh tính và quyền truy cập
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/3-support/" title="Hỗ trợ" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/3-support/">
           <b> 3. </b> Hỗ trợ
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/3-support/3.1-troubleshoot/" title="Troubleshooting" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/3-support/3.1-troubleshoot/">
           <b> 3.1 </b> Troubleshooting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/3-support/3.2-cleanup/" title="Dọn dẹp" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/3-support/3.2-cleanup/">
           <b> 3.2 </b> Dọn dẹp
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/AWS-Control-Design-Workshop/vi/3-support/3.3-resources/" title="Tham khảo" class="dd-item 
        
        
        
        ">
      <a href="/AWS-Control-Design-Workshop/vi/3-support/3.3-resources/">
           <b> 3.3 </b> Tham khảo
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj/"><i class='fab fa-facebook'></i> AWS Study Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="http://localhost:1313/AWS-Control-Design-Workshop/2-scenario/2.3-security_assurance/">English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="http://localhost:1313/AWS-Control-Design-Workshop/vi/2-scenario/2.3-security_assurance/" selected>Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>27-04-2024</font></i>
    </left>
    <left>
        <br>
        <br>
            <b> Team </b> <br>
           
            <i> <a href="https://www.linkedin.com/in/hayden-trinh/"  style="color:orange">Trịnh Duy Hưng</a> <br>
               
               
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/AWS-Control-Design-Workshop/vi/'>Thiết kế AWS Control</a> > <a href='/AWS-Control-Design-Workshop/vi/2-scenario/'>Tình huống</a> > Đảm bảo an ninh
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#đảm-bảo-an-ninh">Đảm bảo an ninh</a>
      <ul>
        <li><a href="#giới-thiệu">Giới thiệu</a></li>
        <li><a href="#bài-tập">Bài tập</a></li>
        <li><a href="#hướng-dẫn">Hướng dẫn</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Đảm bảo an ninh
            </h1>
          

        



	<h2 id="đảm-bảo-an-ninh">Đảm bảo an ninh</h2>
<h3 id="giới-thiệu">Giới thiệu</h3>
<p><strong>Thời gian để hoàn thành</strong>: 25 phút</p>
<p><strong>Mục tiêu thực hành</strong>:</p>
<ul>
<li>Logging tại level OS với <strong>Amazon CloudWatch</strong>.</li>
<li>Setup thông báo với OS events.</li>
</ul>
<h3 id="bài-tập">Bài tập</h3>
<h4 id="tình-huống">Tình huống</h4>
<p>Nhóm Voyager Security đã cung cấp các yêu cầu kỹ thuật để đảm bảo rằng logging của Hệ điều hành (OS) được ghi lại và cảnh báo được gửi đến các nhóm giám sát và phản hồi đối với các sự kiện quan trọng. Ví dụ: quyền truy cập root sẽ được coi là một sự kiện quan trọng và sẽ kích hoạt cảnh báo cho nhóm giám sát qua email. Với tư cách là Kiến trúc sư đám mây, bạn sẽ cần hiểu kiến ​​trúc hiện tại và xác định, dựa trên Quy tắc quản lý <strong>AWS CloudWatch</strong> và <strong>AWS Config</strong> hoặc các gói tuân thủ, những tùy chọn nào có sẵn để đặt cấu hình giải pháp logging đáp ứng yêu cầu của khách hàng.</p>
<p><strong>NIST yêu cầu</strong></p>
<table>
<thead>
<tr>
<th>Control ID</th>
<th style="text-align:center">Miêu tả control</th>
</tr>
</thead>
<tbody>
<tr>
<td>AC-6(9)</td>
<td style="text-align:center">Ghi logs thực hiện các chức năng đặc quyền.</td>
</tr>
<tr>
<td>AU-2</td>
<td style="text-align:center">Event Logging</td>
</tr>
<tr>
<td>AU-6(1)</td>
<td style="text-align:center">AĐánh giá, phân tích và báo cáo hồ sơ kiểm toán</td>
</tr>
</tbody>
</table>
<p><strong>Khách hàng yêu cầu</strong></p>
<table>
<thead>
<tr>
<th>Control ID</th>
<th style="text-align:center">Miêu tả control</th>
</tr>
</thead>
<tbody>
<tr>
<td>Voyager-ctrl-mon-01</td>
<td style="text-align:center">Hệ thống phải được giám sát thích hợp. Logs cần được ghi lại ở cấp hệ điều hành và các cảnh báo sẽ cần được kích hoạt và gửi đến nhóm SOC khi sử dụng root.</td>
</tr>
</tbody>
</table>
<p><strong>AWS đánh giá tài nguyên</strong></p>
<p>Bằng cách xem xét các tài nguyên sẵn có sau đây, bạn sẽ đi đến kết luận những gì cần phải làm để đáp ứng các yêu cầu kiểm soát của Voyager. Xem phần kết luận bên dưới.</p>
<table>
<thead>
<tr>
<th>Loại</th>
<th>Tên</th>
<th>Kết luận</th>
</tr>
</thead>
<tbody>
<tr>
<td>AWS service user guide</td>
<td><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html">AWS CloudWatch / What is Amazon CloudWatch Logs? </a></td>
<td><strong>CloudWatch Logs</strong> cho phép bạn tập trung logs từ tất cả các hệ thống, ứng dụng và dịch vụ AWS mà bạn sử dụng trong một dịch vụ duy nhất có khả năng mở rộng cao.</td>
</tr>
<tr>
<td>AWS service user guide</td>
<td><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Install-CloudWatch-Agent.html">AWS CloudWatch agent guide / Collecting metrics and logs from Amazon EC2 instances and on-premises servers with the CloudWatch agent</a></td>
<td>Cách tiếp cận gốc trên nền tảng đám mây để ghi lại logs hệ điều hành là cài đặt <strong>AWS CloudWatch agent</strong> vào từng instance.</td>
</tr>
<tr>
<td>AWS service user guide</td>
<td><a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/cloudwatch-and-eventbridge.html">CloudWatch Alarm events and EventBridge</a></td>
<td><strong>CloudWatch</strong> gửi sự kiện tới <strong>Amazon EventBridge</strong> bất cứ khi nào cảnh báo <strong>CloudWatch</strong> được tạo, cập nhật, xóa hoặc thay đổi trạng thái cảnh báo. Bạn có thể sử dụng <strong>EventBridge</strong> và những sự kiện này để viết các quy tắc thực hiện hành động, chẳng hạn như thông báo cho bạn khi cảnh báo thay đổi trạng thái.</td>
</tr>
<tr>
<td>AWS Conformance pack (NIST)</td>
<td><a href="https://docs.aws.amazon.com/config/latest/developerguide/operational-best-practices-for-nist-800-53_rev_5.html">AWS operational best practices for NIST 800 53 rev5</a></td>
<td>(Tìm kiếm AC-6(9), AU-2, AU-6(1)) Sử dụng <strong>Amazon CloudWatch</strong> để thu thập và quản lý tập trung hoạt động sự kiện logs. Việc đưa dữ liệu <strong>AWS CloudTrail</strong> vào sẽ cung cấp thông tin chi tiết về hoạt động lệnh gọi API trong tài khoản AWS của bạn.</td>
</tr>
</tbody>
</table>
<h3 id="hướng-dẫn">Hướng dẫn</h3>
<h4 id="giới-thiệu-cloudwatch-logs">Giới thiệu CloudWatch Logs</h4>
<p>Logs là một công cụ thiết yếu để có được khả năng hiển thị về những gì đang xảy ra trong phiên bản của bạn. Ngoài số liệu, <strong>CloudWatch</strong> cho phép bạn thu thập và tìm kiếm logs.</p>
<p>Trước khi đi sâu vào <strong>CloudWatch Logs</strong>, chúng ta cần hiểu các khái niệm về luồng logs và nhóm logs.</p>
<p>Luồng logs là một chuỗi các sự kiện logs đến từ cùng một nguồn (ví dụ: phiên bản EC2).</p>
<p>Nhóm logs là một nhóm các luồng logs có cùng cài đặt lưu giữ, giám sát và kiểm soát truy cập. Được sử dụng để nhóm logic các luồng logs. Nếu các phiên bản EC2 đang chạy cùng một ứng dụng, chúng ta có thể nhóm các luồng logs của chúng thành một nhóm logs.</p>
<h4 id="phân-tích-cloudwatch-logs">Phân tích CloudWatch Logs</h4>
<p>Các EC2 instances tạo ra rất nhiều file log. Hệ điều hành Linux có logs riêng và ứng dụng của chúng tôi chạy trên đó cũng có thể tạo logs riêng.</p>
<p>Logs được thu thập bởi <strong>CloudWatch agent</strong> , một ứng dụng agent (tùy chọn) chạy trongEC2 instances.</p>
<p>CloudWatch agent được cài đặt sẵn và định cấu hình để thu thập nhật ký trong tất cả các EC2 instance cho phần này của workshop.</p>
<ol>
<li>Để xem logs, truy cập <a href="https://console.aws.amazon.com/cloudwatch/">CloudWatch console</a></li>
<li>Ở menu bẹn trái, mục <strong>Logs</strong>, chọn <strong>Log groups</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/111.png"></p>
<ol start="3">
<li>Đã có sẵn 1 log group <strong>/var/log/secure</strong>. Nhấp vào nó và bạn sẽ thấy chi tiết log group và một vài luồng log bên dưới cho từng instance.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/112.png"></p>
<ol start="4">
<li>Nhấn <strong>Actions/Edit retention setting</strong>. Chọn thời gian hết hạn mong muốn. (đối với workshop này chọn 12 tháng). Nhấn <strong>Save</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/113.png"></p>
<ol start="5">
<li>Nhấn <strong>Actions</strong> phía trên bên phải và nhấn <strong>Create metric filter</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/114.png"></p>
<ol start="6">
<li>Xác định pattern để tìm kiếm. Bạn có thể nhập <code>session opened for user root</code> và nó sẽ tìm logs. Nhấn Next.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/115.png"></p>
<ol start="7">
<li>Hoàn thành chi tiết metric filter như trong hình. Nhấn <strong>Next</strong></li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/116.png"></p>
<ol start="8">
<li>Kiếm tra lại và nhấn <strong>Create metric filter</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/117.png"></p>
<ol start="9">
<li>Nhấn <strong>Audit</strong> bên dưới <strong>Metric</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/118.png"></p>
<ol start="10">
<li>Một biểu đồ trống sẽ xuất hiện. <strong>CloudWatch</strong> sẽ chỉ tạo số liệu từ các sự kiện được tạo sau khi số liệu được tạo.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/119.png"></p>
<ol start="11">
<li>Truy cập <a href="https://us-east-1.console.aws.amazon.com/ec2/v2/home?region=us-east-1#Home:">EC2 console</a>, vào <strong>Instances</strong> và chọn 1 instance, nhấn <strong>Connect</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/120.png"></p>
<ol start="12">
<li>Chọn <strong>Session Manager</strong>, nhấn <strong>Connect</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/121.png"></p>
<ol start="13">
<li>Khi kết nối thiết bị đầu cuối mở ra. bạn có thể chạy <code>sudo su</code> để chuyển lên root user. Bằng cách này, bạn sẽ tạo thêm các sự kiện trong log. nhấn <strong>Terminate</strong> 2 lần.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/122.png"></p>
<ol start="14">
<li>Trở về <a href="https://us-east-1.console.aws.amazon.com/cloudwatch/home?region=us-east-1">CloudWatch console</a>. Bên trái bên dưới <strong>Metrics</strong>, nhấn <strong>All Metrics</strong>, và dưới <strong>Custom namespaces</strong>, nhấn <strong>Audit</strong> và <strong>Metrics with no dimensions</strong>.</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/123.png"></p>
<ol start="15">
<li>Kiểm tra phiên đã mở cho hộp kiểm gốc của người dùng. Một dấu chấm có phiên chúng tôi đã tạo sẽ xuất hiện trong biểu đồ. (Có thể mất tối đa 5 phút để thông tin được hiển thị)</li>
</ol>
<p><img alt="FCJ_ws2" src="/AWS-Control-Design-Workshop/images/2.scenario/124.png"></p>
<ol start="16">
<li>
<p>(Tùy chọn) Tìm hiểu thêm về pattern <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/FilterAndPatternSyntax.html">CloudWatch documentation</a></p>
</li>
<li>
<p>(Tùy chọn) Một khi bạn đã cấu hình metric, bạn có thể cấu hình <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/AlarmThatSendsEmail.html">CloudWatch alarms</a> để nhận thông báo mỗi khi có user đăng nhập bằng root user.</p>
</li>
</ol>
<p><strong>Bạn đã hoàn thành bài tập thứ ba. Hãy chuyển sang bài tập tiếp theo.</strong></p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="/AWS-Control-Design-Workshop/vi/2-scenario/2.2-data_protect/" title="Bảo vệ data"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/AWS-Control-Design-Workshop/vi/2-scenario/2.4-iam/" title="Quản lý danh tính và quyền truy cập" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/AWS-Control-Design-Workshop/js/clipboard.min.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/perfect-scrollbar.min.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/perfect-scrollbar.jquery.min.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/jquery.sticky.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/featherlight.min.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/highlight.pack.js?1714236335"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/AWS-Control-Design-Workshop/js/modernizr.custom-3.6.0.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/learn.js?1714236335"></script>
    <script src="/AWS-Control-Design-Workshop/js/hugo-learn.js?1714236335"></script>

    <link href="/AWS-Control-Design-Workshop/mermaid/mermaid.css?1714236335" rel="stylesheet" />
    <script src="/AWS-Control-Design-Workshop/mermaid/mermaid.js?1714236335"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
